@using NetMud.Models

@model string
@{
    double columnCount = ViewData["columnCount"] == null ? 3 : (int)ViewData["columnCount"];
    bool disabled = ViewData["disabled"] != null;
    var columnLabelValue = columnCount > 2 ? 1 : 2;
    var columnInputValue = (int)Math.Round(9 / columnCount);
    var cssClass = ViewData["cssClass"] == null ? "form-control datePicker" : ViewData["cssClass"] + " datePicker";
}

@Html.DescriptiveLabelFor(m => m, new { @class = String.Format("col-sm-{0} col-form-label", columnLabelValue) })
<div class="col-sm-@columnInputValue">
    @if (disabled)
    {
        <div class="form-group">
            <div class="input-group date" id="picker">
                @Html.TextBoxFor(m => m, new { @class = cssClass, @disabled = disabled })
            </div>
        </div> 
    }
    else
    {
        <div class="form-group">
            <div class="input-group date" id="picker">
                @Html.TextBoxFor(m => m, new { @class = cssClass })
            </div>
        </div>
    }

    @Html.ValidationMessageFor(m => m, "", new { @class = "text-danger" })
</div>

<script type="text/javascript">
    $(function () {
        $('.datePicker').datetimepicker({ format: 'MM/DD/YYYY' });
    });
</script>