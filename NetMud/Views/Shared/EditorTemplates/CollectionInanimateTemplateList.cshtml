@using NetMud.Models
@using NetMud.Data.Inanimate
@using NetMud.DataStructure.Inanimate

@model HashSet<IInanimateTemplate>

@{
    //Add a blank one in
    if (Model.Count() == 0)
    {
        Model.Add(new InanimateTemplate() { Id = -1 });
    }

    var currentCount = Model.Count();
    var rowsName = ViewData.ModelMetadata.PropertyName + "Rows";
}

<div id="@rowsName" class="iterativeContainer">
    <div class="addRowContainer">
        <div class="col-sm-1">
            @Html.DescriptionFor(m => m)
            <a href="#" class="addRow btn" onclick="javascript:  $('#@rowsName').append(newDropdown); return false;"><span class="addWord">Add Row</span></a>
        </div>
    </div>
    @Html.EditorForMany(e => e, null, 0, "CollectionInanimateTemplateListItem")
</div>

<script type="text/javascript">
    var newDropdown = decodeHtml('@Html.EmptyEditorForMany(e => e, null, currentCount, "CollectionInanimateTemplateListItem")');
</script>
